<div class="max-w-2xl mx-auto bg-white rounded-lg shadow-md p-6">
  <h1 class="text-3xl font-bold text-blue-600 mb-4"><%= minion.name %></h1>

  <div class="mb-6">
    <p class="text-gray-600"><%= minion.description %></p>
    <p class="text-gray-600">Age: <%= minion.age %></p>
  </div>

  <div class="space-y-6">
    <div class="bg-gray-50 p-4 rounded-lg">
      <h2 class="text-xl font-semibold mb-4">Expose minion secret</h2>
      <div class="space-y-4">
        <div>
          <label for="password" class="block text-gray-700">Password</label>
          <input
            id="password"
            type="password"
            placeholder="banana"
            class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-yellow-500 focus:ring focus:ring-yellow-500"
          />
        </div>
        <button
          onclick="checkSecret()"
          class="bg-yellow-300 px-4 py-2 rounded hover:bg-yellow-400"
        >
          Expose minion secret
        </button>
      </div>
    </div>

    <div class="bg-gray-50 p-4 rounded-lg">
      <h2 class="text-xl font-semibold mb-4">Healthcheck</h2>
      <button
        onclick="checkHealth()"
        class="bg-yellow-300 px-4 py-2 rounded hover:bg-yellow-400"
      >
        Healthcheck
      </button>
    </div>
  </div>
  <script>
    async function checkSecret() {
      const password = document.getElementById("password").value;
      const res = await fetch("/api/minion/secret?name=<%= minion.name %>");
      const data = await res.json();
      alert(data.message);
    }

    async function checkHealth() {
      const res = await fetch("/api/minion/health?name=<%= minion.name %>");
      const data = await res.json();
      alert(data.message);
    }
  </script>
</div>

#include <stdio.h>
#include <string.h>
#include <stdlib.h>
#include <unistd.h>

int main(int argc, char **argv) {
    setvbuf(stdout, 0, 2, 0);
    setvbuf(stdin, 0, 2, 0);

    char buf[2048] = "Welcome to a very simple text editor. Simply enter which character you want to change, and what you wish to change it to. Good luck!";
    printf("Text editor (%lx) \n===========\n", (unsigned long)(&buf)&0xffffffffffffff00);
    int quit = 0;
    int pos = 0;
    char new = 0;

    printf("%s\n", buf);
    printf("Enter position (-1 to quit): ");
    while(scanf("%d", &pos) != EOF && pos != -1) {
	    printf("Enter new character: ");
	    scanf(" %c", &new);
	    buf[pos] = new;

	    printf("%s\n", buf);
	    printf("Enter position (-1 to quit): ");
    }
    return 0;
}
